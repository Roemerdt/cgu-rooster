function arrayContains(e,t){return!!~e.indexOf(t)}function getRooster(e,t){console.log("will get rooster for ",e);var a=[],r=[],t=t||(new Date).getWeek();$.ajax({url:"../build/php/form.php",type:"POST",data:{auth:e,week:t},dataType:"json",success:function(e){console.log(e),$("#preloader").fadeOut(300);var t=e;t.sort(function(e,t){return parseFloat(e.weekDay)-parseFloat(t.weekDay)}),t.sort(function(e,t){return parseFloat(e.start)-parseFloat(t.start)});for(var a=29700,r=28500,n=["maandag","dinsdag","woensdag","donderdag","vrijdag"],o=new Date,i=o.getDay(),d=0,l=t.length;l>d;d++){var s=t[d];s.reducedUnixStart=s.start-s.baseUnix-a,s.reducedUnixEnd=s.end-s.baseUnix-a,s.calculatedHeight=(s.reducedUnixEnd-s.reducedUnixStart)/r,s.calculatedMarginTop=s.reducedUnixStart/r}for(var c=[],d=0,l=t.length;l>d;d++){var u=document.createElement("DIV");t[d].DomNode=u,u.id="uur_block",document.getElementById(n[t[d].weekDay-1]).appendChild(u),u.style.height=t[d].calculatedHeight*(window.innerHeight-148)+"px",u.style.top=t[d].calculatedMarginTop*(window.innerHeight-148)+"px",u.style.zIndex="2",u.style.borderBottom="1px solid #E0E0E0";var v=document.createElement("DIV");v.id="uur_data";var p=document.createElement("DIV");p.id="uur_info";var g=document.createElement("SPAN");g.id="uur_subject",g.innerHTML=t[d].subject;var h=document.createElement("SPAN");h.id="uur_location",h.innerHTML=t[d].location;var m=document.createElement("SPAN");m.id="uur_additional",m.innerHTML=t[d].teacher+", "+t[d].group,p.appendChild(g),p.appendChild(h),p.appendChild(m);var f=document.createElement("DIV");f.id="uur_timestamp",f.innerHTML=moment(1e3*t[d].start).format("H:mm"),u.appendChild(v),v.appendChild(p),v.appendChild(f);var k=JSON.parse(JSON.stringify(t));k.splice(d,1);for(var w=0,y=k.length;y>w;w++){var s=t[d],D=k[w];s.weekDay===D.weekDay&&s.end===D.start&&c.push(w)}t[d].cancelled===!0&&(u.style.backgroundColor="rgba(244, 67, 54, 0.3)",u.style.zIndex="1"),v.setAttribute("data-rooster",JSON.stringify(t[d]))}console.log(c);for(var d=0,l=t.length;l>d;d++)arrayContains(c,d)||(t[d].DomNode.style.borderBottom="0")},error:function(){console.log("error")}})}Date.prototype.getWeek=function(){var e=new Date(+this);return e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7)),Math.ceil(((e-new Date(e.getFullYear(),0,1))/864e5+1)/7)},console.log((new Date).getWeek());var navContainer=$("#nav-list"),firstNav=$(".first-nav"),activeNav=$(".active-nav"),lastNav=$(".last-nav"),thisWeek=(new Date).getWeek();activeNav.attr("data-week-value",thisWeek),firstNav.attr("data-week-value",thisWeek-1),firstNav.children("a").text("Week "+firstNav.attr("data-week-value")),lastNav.attr("data-week-value",thisWeek+1),lastNav.children("a").text("Week "+lastNav.attr("data-week-value")),firstNav.click(function(e){}),lastNav.click(function(e){});